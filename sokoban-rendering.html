<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
    
        <title>James Day - Portfolio</title>
        <link rel="stylesheet" href="css/project.css">
    </head>
<body>
    <div id="mobile-nav-menu">
        <div>
            <div class="line-dot"></div>
            <div class="vertical-line"></div>
            <a class="has-hover" href="/">Home<div class="hover-effect"></div></a>
        </div>
        <div>
            <div class="line-dot"></div>
            <div class="vertical-line"></div>
            <a class="has-hover" href="/sokoban.html">Terminal Sokoban<div class="hover-effect"></div></a>
        </div>
        <div>
            <div class="line-dot"></div>
            <div class="vertical-line"></div>
            <a>Rendering with text</a>
        </div>
    </div>
    <div class="fullscreen-display hide">
        <div>
            <img class="image" src="resources/images/projects/example-project/display-1.jpeg">
            <p>A scene generated by the engine</p>
        </div>
    </div>
    <section class="title-section">
        <div class="background-container">
            <img src="resources/images/projects/example-project/display-2.jpeg">
        </div>
        <nav>
            <a href="/"><h1 class="logo has-hover">JD<span class="dot"></span><div class="hover-effect"></div></h1></a>
            <div class="current-path">
                <a class="has-hover" href="/">Home<div class="hover-effect"></div></a>
                <span>/</span>
                <a class="has-hover" href="/sokoban.html">Terminal Sokoban<div class="hover-effect"></div></a>
                <span>/</span>
                <a>Rendering with text</a>
            </div>
            <div id="mobile-menu-button" class="menu-button">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
        <div class="content">
            <p class="date">TERMINAL SOKOBAN</p>
            <h1 class="project-title">Rendering with Text<span class="dot" style="bottom: 10px; height: 15px;"></span></h1>
            <div class="seperator"></div>
            <p class="description">Rendering is crucial for the player experience, below I explain how I rendered "pixels" onto the terminal.</p>
        </div>
    </section>
    <section class="details-section">
        <h1 class="section-title">Initial Tests</h1>
        <p>I knew from the start I had to use ANSI codes to achieve what I wanted to create. 
            My first tests used the background color ANSI code with the space character. 
            I used two spaces for each pixel as each rendered character seemed to be roughly twice as high as it was wide.
            After this I then switched to using the rgb option in ANSI that allows you to give exact rgb values rather than using one of the terminals' 256 colours.
            However I soon ran into my first problem, when lots of pixels were needing to be rendered it took a long time. You could even see each pixel be placed individually.
            I was also using the system CLS function to clear the screen which is pretty slow.
        </p>
        <h1 class="section-title">Optimisation</h1>
        <p>The first step in optimisation was to improve the screen clearing. 
            I decided to make use of the ANSI code that allows you to choose where the cursor is on the terminal.
            I used it to make it so that at the start of each render pass the cursor would be moved to the top of the terminal, and the printing would then overwrite the current contents of the terminal.
            This helped a lot with delay between rendering, but also that the transition between frames would be smoother as the previous frame would still exist until it has been fully overwritten.
            <br>
            Next was the actual rendering of the frame, which I improved by only updating pixels which had changed. At the start of a render pass, it compares the previous frame and the current one and calculate the differences, it then only overwrites to changed pixels using the cursor ANSI code to jump to each position.
             
        </p>
    </section>

    <script src="js/main.js"></script>
    <script src="js/image-zoom.js"></script>
</body>
</html>